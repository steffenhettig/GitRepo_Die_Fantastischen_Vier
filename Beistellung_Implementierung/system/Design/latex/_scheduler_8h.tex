\hypertarget{_scheduler_8h}{\section{src/os/\+Scheduler.h File Reference}
\label{_scheduler_8h}\index{src/os/\+Scheduler.\+h@{src/os/\+Scheduler.\+h}}
}


Cooperative Round-\/\+Robin Scheduler.  


{\ttfamily \#include \char`\"{}Types.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Task.\+h\char`\"{}}\\*
Include dependency graph for Scheduler.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{_scheduler_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_scheduler_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_scheduler_8h_af12cab9399b7b23dbe9fe6037e633cc8}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S}~(10)
\begin{DoxyCompactList}\small\item\em Maximum number of tasks that can be handled by the scheduler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}{Scheduler\+\_\+\+Ret} \{ \\*
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a223c921c8a64ab80e8e2f086ae39037a}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S} = 0, 
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a722e14e81de2cd34ac141dd765b39fb4}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L}, 
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a3ec86ed9827b2bb857f861b3dfb5cf5a}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S}, 
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a47071a842cf6ee2ec5e3165f70ef48c6}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E}, 
\\*
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5ad54312bce669278f7efec7ad9743e860}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K}
 \}
\begin{DoxyCompactList}\small\item\em Statuses of the scheduler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_scheduler_8h_a54f0b21668ad0d2c4d08e91a4a9577bf}{\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}{Scheduler\+\_\+\+Ret} \hyperlink{_scheduler_8h_a54f0b21668ad0d2c4d08e91a4a9577bf}{Scheduler\+\_\+init} (void)}\label{_scheduler_8h_a54f0b21668ad0d2c4d08e91a4a9577bf}

\begin{DoxyCompactList}\small\item\em Initialize the scheduler module. \end{DoxyCompactList}\item 
void \hyperlink{_scheduler_8h_ac8b5914b94644528eb5212cded91576b}{Scheduler\+\_\+execute} (void)
\begin{DoxyCompactList}\small\item\em Execute one scheduler cycle. \end{DoxyCompactList}\item 
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}{Scheduler\+\_\+\+Ret} \hyperlink{_scheduler_8h_a2010cdfa7c29f432542d6842f7e8d527}{Scheduler\+\_\+add\+Task} (\hyperlink{_task_8h_a77bbd51a2c7d34bd2aa764baadfb4b83}{Task} $\ast$task)
\begin{DoxyCompactList}\small\item\em Add a task to the scheduler. \end{DoxyCompactList}\item 
\hyperlink{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}{Scheduler\+\_\+\+Ret} \hyperlink{_scheduler_8h_aa3171ba992feb30e29945f03da6a3a11}{Scheduler\+\_\+remove\+Task} (\hyperlink{_task_8h_a77bbd51a2c7d34bd2aa764baadfb4b83}{Task} $\ast$task)
\begin{DoxyCompactList}\small\item\em Remove a task from the scheduler. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Cooperative Round-\/\+Robin Scheduler. 

A simple task scheduler that manages a fixed number of Tasks. Scheduling is cooperative, meaning task execution is done by calling a work cycle function that must return into the scheduler as fast as possible. Tasks in running state are called round-\/robion sequentially.

\begin{DoxyVersion}{Version}
\$\+Id\+: \hyperlink{_scheduler_8h}{Scheduler.\+h} 281 2024-\/01-\/12 12\+:09\+:03\+Z leglaz \$ 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\hypertarget{_scheduler_8h_af12cab9399b7b23dbe9fe6037e633cc8}{\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S}}
\index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S}!Scheduler.\+h@{Scheduler.\+h}}
\subsubsection[{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S~(10)}}\label{_scheduler_8h_af12cab9399b7b23dbe9fe6037e633cc8}


Maximum number of tasks that can be handled by the scheduler. 



Referenced by Scheduler\+\_\+add\+Task(), Scheduler\+\_\+execute(), Scheduler\+\_\+init(), and Scheduler\+\_\+remove\+Task().



\subsection{Enumeration Type Documentation}
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}{\index{Scheduler.\+h@{Scheduler.\+h}!Scheduler\+\_\+\+Ret@{Scheduler\+\_\+\+Ret}}
\index{Scheduler\+\_\+\+Ret@{Scheduler\+\_\+\+Ret}!Scheduler.\+h@{Scheduler.\+h}}
\subsubsection[{Scheduler\+\_\+\+Ret}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Scheduler\+\_\+\+Ret}}}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5}


Statuses of the scheduler. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S}!Scheduler.\+h@{Scheduler.\+h}}\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S}}\item[{\em 
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a223c921c8a64ab80e8e2f086ae39037a}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a223c921c8a64ab80e8e2f086ae39037a}
}]Operation succesful. \index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L}!Scheduler.\+h@{Scheduler.\+h}}\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L}}\item[{\em 
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a722e14e81de2cd34ac141dd765b39fb4}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+F\+A\+I\+L}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a722e14e81de2cd34ac141dd765b39fb4}
}]Operation failed. \index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S}!Scheduler.\+h@{Scheduler.\+h}}\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S}}\item[{\em 
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a3ec86ed9827b2bb857f861b3dfb5cf5a}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a3ec86ed9827b2bb857f861b3dfb5cf5a}
}]Maximum number of tasks reached. \index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E}!Scheduler.\+h@{Scheduler.\+h}}\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E}}\item[{\em 
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a47071a842cf6ee2ec5e3165f70ef48c6}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5a47071a842cf6ee2ec5e3165f70ef48c6}
}]Tried to add a task more then once. \index{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K}!Scheduler.\+h@{Scheduler.\+h}}\index{Scheduler.\+h@{Scheduler.\+h}!S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K@{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K}}\item[{\em 
\hypertarget{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5ad54312bce669278f7efec7ad9743e860}{S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K}\label{_scheduler_8h_a4986e815f32ca6e968f160f11807f3b5ad54312bce669278f7efec7ad9743e860}
}]Task was not added. \end{description}
\end{Desc}


\subsection{Function Documentation}
\hypertarget{_scheduler_8h_a2010cdfa7c29f432542d6842f7e8d527}{\index{Scheduler.\+h@{Scheduler.\+h}!Scheduler\+\_\+add\+Task@{Scheduler\+\_\+add\+Task}}
\index{Scheduler\+\_\+add\+Task@{Scheduler\+\_\+add\+Task}!Scheduler.\+h@{Scheduler.\+h}}
\subsubsection[{Scheduler\+\_\+add\+Task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Scheduler\+\_\+\+Ret} Scheduler\+\_\+add\+Task (
\begin{DoxyParamCaption}
\item[{{\bf Task} $\ast$}]{task}
\end{DoxyParamCaption}
)}}\label{_scheduler_8h_a2010cdfa7c29f432542d6842f7e8d527}


Add a task to the scheduler. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em task} & Pointer to task structure.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful, false if no more space or task already added. 
\end{DoxyReturn}


References N\+U\+L\+L, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+N\+O\+M\+O\+R\+E\+T\+A\+S\+K\+S, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S, and S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+T\+A\+S\+K\+A\+D\+D\+E\+D\+T\+W\+I\+C\+E.



Referenced by Main\+Task\+\_\+init().



Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{_scheduler_8h_a2010cdfa7c29f432542d6842f7e8d527_icgraph}
\end{center}
\end{figure}


\hypertarget{_scheduler_8h_ac8b5914b94644528eb5212cded91576b}{\index{Scheduler.\+h@{Scheduler.\+h}!Scheduler\+\_\+execute@{Scheduler\+\_\+execute}}
\index{Scheduler\+\_\+execute@{Scheduler\+\_\+execute}!Scheduler.\+h@{Scheduler.\+h}}
\subsubsection[{Scheduler\+\_\+execute}]{\setlength{\rightskip}{0pt plus 5cm}void Scheduler\+\_\+execute (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_scheduler_8h_ac8b5914b94644528eb5212cded91576b}


Execute one scheduler cycle. 

Call the work function of all running tasks sequentially. 

References N\+U\+L\+L, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S, T\+A\+S\+K\+\_\+\+E\+X\+E\+C\+U\+T\+E, T\+A\+S\+K\+\_\+\+G\+E\+T\+\_\+\+S\+T\+A\+T\+E, and T\+A\+S\+K\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+U\+N\+N\+I\+N\+G.

\hypertarget{_scheduler_8h_aa3171ba992feb30e29945f03da6a3a11}{\index{Scheduler.\+h@{Scheduler.\+h}!Scheduler\+\_\+remove\+Task@{Scheduler\+\_\+remove\+Task}}
\index{Scheduler\+\_\+remove\+Task@{Scheduler\+\_\+remove\+Task}!Scheduler.\+h@{Scheduler.\+h}}
\subsubsection[{Scheduler\+\_\+remove\+Task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Scheduler\+\_\+\+Ret} Scheduler\+\_\+remove\+Task (
\begin{DoxyParamCaption}
\item[{{\bf Task} $\ast$}]{task}
\end{DoxyParamCaption}
)}}\label{_scheduler_8h_aa3171ba992feb30e29945f03da6a3a11}


Remove a task from the scheduler. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em task} & Pointer to task structure.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful, falls if task not found. 
\end{DoxyReturn}


References N\+U\+L\+L, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+K\+S, S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S, and S\+C\+H\+E\+D\+U\+L\+E\+R\+\_\+\+R\+E\+T\+\_\+\+U\+N\+K\+N\+O\+W\+N\+T\+A\+S\+K.

